<html>

<style>
    canvas {
        position: absolute;
        left: 0;
        top: 40;
    }
</style>

<body>
    <button onclick="letThereBeLife()">let there be life</button>
    <input type="text" id="cellsInput" placeholder="150 (cells)"/>
    <input type="text" id="cellsDensity" placeholder="0.5 (density)"/>
    <input type="text" id="tickInterval" placeholder="10 (ms between ticks)"/>
    <button onclick="pause()">pause</button>
    <button onclick="tick()">tick</button>
    <button onclick="invadeRandomly()">invade!</button>
    <button onclick="test()">test</button><input type="text" id="testInput" placeholder="2,3"/>
    <canvas id="canvasBackground" width="1000" height="500" style="z-index: 0; background-color: white"></canvas>
    <canvas id="canvasMain" width="1000" height="500" style="z-index: 1"></canvas>

    <script>
        
        var canvasBackground = document.getElementById('canvasBackground');
        canvasBackground.width = window.innerWidth;
        canvasBackground.height = window.innerHeight;
        var canvasMain = document.getElementById('canvasMain');
        canvasMain.width = window.innerWidth;
        canvasMain.height = window.innerHeight;

    </script>

    <script type="module">
        import{Game} from './GoL.js';
        window.Game = Game;

        window.run = function(input) {
            eval(input);
        }
    </script>
    <script>
        function letThereBeLife() {
            let cells = document.getElementById('cellsInput').value || 150;
            let cellsDensity = document.getElementById('cellsDensity').value || 0.5;
            let tickInterval = document.getElementById('tickInterval').value || 10;

            var game = new Game(cells,cells,cellsDensity,tickInterval);
            game.start();
            window.game = game; //make available to other functions
        }
        function pause() {
            window.game.pause();
        }
        function tick() {
            window.game.tick();
        }
        function test() {
            window.game.test();
        }
        function invadeRandomly() {
            window.game.invadeRandomly();
        }
    </script>
</body>
</html>